# Парсер api.hh.ru - задание для edvola

При запуске автоматически происходит парсинг вакансий по text=Golang, затем запускается API
Если index уже существует в elastic то парсинга при запуске не будет.

Порт по умолчанию: 8080

Но можно явно указать с помощью флага -p, пример:

`./search_api -p 5000`

## REST API 

#### метод для получения списка вакансий по поисковому запросу:

`/vacancies`

Query параметры:

* text - текст для поиска
* size - макс кол-во для ответа (по умолчанию 1000)

(пример `vacancies?text=Redis&size=19`)

Если не указать text, то в ответе будут все вакансии

#### метод для получения вакансии по id:

`/vacancies/<id>`

#### Метод для парсинга вакансий из hh.ru:

**Внимание, может работать довольно долго, API hh.ru имеет ограничения по запросам**

`/parse=vacancies/?text=Rust`

По умолчанию text=Golang (будет около 800+ вакансий)

Так же этот метод запускается при старте программы, для того чтобы заполнить elastic начальными данными

## Запуск в docker-compose (вместе с elastic)

`docker-compose up --build`

